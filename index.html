<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Phone Sender</title>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
</head>
<body>

<h2>ğŸ“± ã‚¹ãƒãƒ›å´</h2>

<input id="room" placeholder="Room ID">
<button onclick="send()">é€ä¿¡</button>

<pre id="log"></pre>

<script>
const firebaseConfig = {
  databaseURL: "https://YOUR_PROJECT.firebaseio.com"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

function log(t){
  document.getElementById("log").textContent += t + "\n";
}

function send(){
  const room = document.getElementById("room").value;
  const base = db.ref("rooms/"+room);

  base.child("status/phone").set("sending");
  log("é€ä¿¡ä¸­â€¦");

  base.child("logs").push({
    from: "phone",
    msg: "data sent",
    timestamp: Date.now()
  });

  base.child("status/phone").set("done");
  log("é€ä¿¡å®Œäº†");
}
</script>
</body>
</html>
